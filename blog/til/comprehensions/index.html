<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
<meta content='width=device-width, initial-scale=1' name='viewport'>
<title>Elixir Comprehensions</title>
<link href="../../../assets/stylesheets/application.css" rel="stylesheet" />
<link href="//fonts.googleapis.com/css?family=Radley:400,400italic" rel="stylesheet" />
<link href="//fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic,700italic" rel="stylesheet" />
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" />
<link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/blog/feed.xml" />
</head>
<body class='type-system-traditional'>
<div class='blog-wrapper'>
<nav>
<ul class='nav-left'>
<li class='menu-item'>
<span id='namesake'>Cody Roberts</span>
</li>
</ul>
<ul class='nav-right'>
<li>
<span class='menu-item'>
<a href="/blog">blog</a>
</span>
</li>
<li>
<span class='menu-item'>
<a href="/about">about</a>
</span>
</li>
<li>
<span class='menu-item'>
<a href="/projects">projects</a>
</span>
</li>
<li id='hamburger'>
<span class='menu-item'>
<i class='fa fa-bars'></i>
</span>
</li>
</ul>
</nav>

<div class='post-archive'>
<p class='type'>Articles</p>
<div class='post-archive-item'>
<a href="/blog/article/chowmonger/">Chowmonger (Phoenix & Ember)</a>
</div>
<div class='post-archive-item'>
<a href="/blog/article/ember-data-in-components/">Ember Data & Components</a>
</div>
<div class='post-archive-item'>
<a href="/blog/article/streams-vs-enums/">Streams, Enums, and Protocols!</a>
</div>
<div class='post-archive-item'>
<a href="/blog/article/a-tour-of-phoenix/">A Tour of Phoenix</a>
</div>
<br>
<p class='type'>Today I Learned</p>
<div class='post-archive-item'>
<a href="/blog/til/iex-test-helper/">IEx Test Helper</a>
</div>
<div class='post-archive-item'>
<a href="/blog/til/Hex-Dependencies-Via-Vimscript/">Hex Dependencies via Vimscript</a>
</div>
<div class='post-archive-item'>
<a href="/blog/til/TDD-with-Elixir-and-Neovim/">TDD with Elixir and Neovim</a>
</div>
<div class='post-archive-item'>
<a href="/blog/til/comprehensions/">Elixir Comprehensions</a>
</div>
<div class='post-archive-item'>
<a href="/blog/til/gen-server/">What is GenServer?</a>
</div>
<div class='post-archive-item'>
<a href="/blog/til/elixir-structs/">Elixir Structs</a>
</div>
<div class='post-archive-item'>
<a href="/blog/til/atoms/">Elixir Atoms</a>
</div>
<div class='post-archive-item'>
<a href="/blog/til/squashing-commits/">Squashing Commits</a>
</div>
<div class='post-archive-item'>
<a href="/blog/til/the-reverse-splat/">Ruby's Reverse Splat</a>
</div>
<div class='post-archive-item'>
<a href="/blog/til/railroady-uml-diagrams/">Railroady</a>
</div>
<div class='post-archive-item'>
<a href="/blog/til/embedding-in-ruby/">Embedding C & Rust in Ruby</a>
</div>
<div class='post-archive-item'>
<a href="/blog/til/using-gits-interactive-staging/">Git Interactive</a>
</div>
<div class='post-archive-item'>
<a href="/blog/til/select-random-rails-record/">ActiveRecord Random</a>
</div>
<div class='post-archive-item'>
<a href="/blog/til/manage-multiple-tmux-sessions/">Tmux Sessions</a>
</div>
<div class='post-archive-item'>
<a href="/blog/til/focused-splits/">Focused Splits</a>
</div>

</div>
<div class='post-wrapper'>
<div class='post-header'>
<p class='date'>Mar 6, 2016</p>
<h2>Elixir Comprehensions</h2>
<hr>
</div>
<div class='post-content'>
<p>Comprehensions are a pretty neat little feature of elixir. They allow you to
construct a data structure from one or two enumerables while filtering and
transforming the data.  Here are some examples:</p>

<pre class="highlight elixir"><code><span class="n">for</span> <span class="n">x</span> <span class="o">&lt;-</span> <span class="p">[</span><span class="m">50</span><span class="p">,</span> <span class="m">100</span><span class="p">,</span> <span class="m">150</span><span class="p">,</span> <span class="m">200</span><span class="p">],</span> <span class="k">do</span><span class="p">:</span> <span class="n">x</span> <span class="o">-</span> <span class="m">50</span>
<span class="p">[</span><span class="m">0</span><span class="p">,</span> <span class="m">50</span><span class="p">,</span> <span class="m">100</span><span class="p">,</span> <span class="m">150</span><span class="p">]</span>

<span class="n">for</span> <span class="p">{</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">}</span> <span class="o">&lt;-</span> <span class="p">[{</span><span class="sd">"</span><span class="s2">bob"</span><span class="p">,</span> <span class="m">20</span><span class="p">},</span> <span class="p">{</span><span class="sd">"</span><span class="s2">sue"</span><span class="p">,</span> <span class="m">50</span><span class="p">},</span> <span class="p">{</span><span class="sd">"</span><span class="s2">jim"</span><span class="p">,</span> <span class="m">34</span><span class="p">},</span> <span class="p">{</span><span class="sd">"</span><span class="s2">carla"</span><span class="p">,</span> <span class="m">75</span><span class="p">}],</span> <span class="n">age</span> <span class="o">&lt;</span> <span class="m">50</span><span class="p">,</span> <span class="k">do</span><span class="p">:</span> <span class="n">name</span>
<span class="p">[</span><span class="sd">"</span><span class="s2">bob"</span><span class="p">,</span> <span class="sd">"</span><span class="s2">jim"</span><span class="p">]</span>

<span class="n">for</span> <span class="p">{</span><span class="n">name</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="sd">"</span><span class="s2">F"</span><span class="p">}</span> <span class="o">&lt;-</span> <span class="p">[{</span><span class="sd">"</span><span class="s2">bob"</span><span class="p">,</span> <span class="m">20</span><span class="p">,</span> <span class="sd">"</span><span class="s2">M"</span><span class="p">},</span> <span class="p">{</span><span class="sd">"</span><span class="s2">sue"</span><span class="p">,</span> <span class="m">50</span><span class="p">,</span> <span class="sd">"</span><span class="s2">F"</span><span class="p">},</span> <span class="p">{</span><span class="sd">"</span><span class="s2">jim"</span><span class="p">,</span> <span class="m">34</span><span class="p">,</span> <span class="sd">"</span><span class="s2">M"</span><span class="p">},</span> <span class="p">{</span><span class="sd">"</span><span class="s2">carla"</span><span class="p">,</span> <span class="m">75</span><span class="p">,</span> <span class="sd">"</span><span class="s2">F"</span><span class="p">}],</span>
    <span class="k">do</span><span class="p">:</span> <span class="n">name</span>
<span class="p">[</span><span class="sd">"</span><span class="s2">sue"</span><span class="p">,</span> <span class="sd">"</span><span class="s2">carla"</span><span class="p">]</span>

<span class="n">for</span> <span class="p">{</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">}</span> <span class="o">&lt;-</span> <span class="p">[{</span><span class="sd">"</span><span class="s2">bob"</span><span class="p">,</span> <span class="m">20</span><span class="p">},</span> <span class="p">{</span><span class="sd">"</span><span class="s2">sue"</span><span class="p">,</span> <span class="m">50</span><span class="p">},</span> <span class="p">{</span><span class="sd">"</span><span class="s2">jim"</span><span class="p">,</span> <span class="m">34</span><span class="p">},</span> <span class="p">{</span><span class="sd">"</span><span class="s2">carla"</span><span class="p">,</span> <span class="m">75</span><span class="p">}],</span>
    <span class="n">candy</span>       <span class="o">&lt;-</span> <span class="p">[</span><span class="sd">"</span><span class="s2">goodbar"</span><span class="p">,</span> <span class="sd">"</span><span class="s2">snickers"</span><span class="p">,</span> <span class="sd">"</span><span class="s2">reeses"</span><span class="p">],</span>
    <span class="n">age</span> <span class="o">&gt;</span> <span class="m">40</span><span class="p">,</span>
    <span class="k">do</span><span class="p">:</span> <span class="p">{</span><span class="n">name</span><span class="p">,</span> <span class="n">candy</span><span class="p">}</span>
<span class="p">[{</span><span class="sd">"</span><span class="s2">sue"</span><span class="p">,</span> <span class="sd">"</span><span class="s2">goodbar"</span><span class="p">},</span> <span class="p">{</span><span class="sd">"</span><span class="s2">sue"</span><span class="p">,</span> <span class="sd">"</span><span class="s2">snickers"</span><span class="p">},</span> <span class="p">{</span><span class="sd">"</span><span class="s2">sue"</span><span class="p">,</span> <span class="sd">"</span><span class="s2">reeses"</span><span class="p">},</span>
 <span class="p">{</span><span class="sd">"</span><span class="s2">carla"</span><span class="p">,</span> <span class="sd">"</span><span class="s2">goodbar"</span><span class="p">},</span> <span class="p">{</span><span class="sd">"</span><span class="s2">carla"</span><span class="p">,</span> <span class="sd">"</span><span class="s2">snickers"</span><span class="p">},</span> <span class="p">{</span><span class="sd">"</span><span class="s2">carla"</span><span class="p">,</span> <span class="sd">"</span><span class="s2">reeses"</span><span class="p">}]</span>

<span class="n">for</span> <span class="n">file</span> <span class="o">&lt;-</span> <span class="no">File</span><span class="o">.</span><span class="n">ls!</span><span class="p">,</span> <span class="no">String</span><span class="o">.</span><span class="n">contains?</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="sd">"</span><span class="s2">.html"</span><span class="p">),</span> <span class="k">do</span><span class="p">:</span> <span class="n">file</span>
<span class="p">[</span><span class="sd">"</span><span class="s2">projects.html"</span><span class="p">,</span> <span class="sd">"</span><span class="s2">about.html"</span><span class="p">,</span> <span class="sd">"</span><span class="s2">404.html"</span><span class="p">,</span> <span class="sd">"</span><span class="s2">index.html"</span><span class="p">]</span>
</code></pre>

<p>As you can see you can pattern match on the enumerables, filter inline, and work
with more than one enumerable at at time.</p>

</div>
<div class='post-comment'>
<div id='disqus_thread'></div>
<script>
  var disqus_shortname = 'bloomytil';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

</div>

</div>
</div>
<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="../../../assets/javascripts/application.js"></script>
</body>
</html>
